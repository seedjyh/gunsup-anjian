# 设计

## 数据的加载

### class Directory

* 功能
    * 仅仅存储一个目录里的树形结构，包括子目录和文件。

* 成员
    * name：目录本身的名字
    * child_files： dict，从“文件名”到File对象。
    * child_directories： dict，从“目录名”到Directory对象。

* 方法
    * \_\_init\_\_：构造时不带参数。
    * load：带一个path字符串参数，加载path里的树形结构。清空上一次加载的数据。
    * 一些方便读取、查找子目录中File、File列表之类的方法。

### class File

* 功能
    * 存储一个文件的文件内容
    
* 成员
    * name：文件本身的名字
    * content_lines：一个str的list，存储文件每一行的内容。

* 方法
    * \_\_init\_\_：构造时不带参数。
    * load：带一个path字符串参数，读取制定文件。清空上一次读取的数据。

### class DesignRoot/DesignGeneral/DesignWindowList/DesignWindow

* 功能
    * 按照一定的规则，将Directory类dump成Q代码。
    
* 成员
    无
    
* 方法
    * \_\_init\_\_：构造时传入一个Directory。
    * compile：根据class的类型，以一定规则**读取**特定子目录或子文件，形成Q代码。
        * 注意，是临时从Directory对象中读取信息。

 